<script lang="ts">
  import logo from '$lib/assets/logo.svg';
  import Balance from '$lib/components/Balance.svelte';
  import LiveStatsWindow from '$lib/components/LiveStatsWindow/LiveStatsWindow.svelte';
  import Plinko from '$lib/components/Plinko';
  import SettingsWindow from '$lib/components/SettingsWindow';
  import Sidebar from '$lib/components/Sidebar';
  import CasinoShowcase from '$lib/components/CasinoShowcase.svelte';
  import { setBalanceFromLocalStorage, writeBalanceToLocalStorage } from '$lib/utils/game';
  import GitHubLogo from 'phosphor-svelte/lib/GithubLogo';

  $effect(() => {
    setBalanceFromLocalStorage();
  });
</script>

<svelte:window onbeforeunload={writeBalanceToLocalStorage} />

<div class="relative flex min-h-dvh w-full flex-col bg-gray-900 text-gray-100">
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="sticky top-0 z-10 w-full bg-gray-800 px-5 py-3 drop-shadow-md">
    <div class="mx-auto flex h-14 max-w-7xl items-center justify-between">
      <img src={logo} alt="logo" class="h-6 sm:h-7" />
      <div class="mx-auto"><Balance /></div>
    </div>
  </nav>

  <!-- –¢–µ–∫—Å—Ç–æ–≤—ã–π –±–ª–æ–∫ —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π plinko.org -->
  <section class="prose prose-invert mx-auto px-5 py-8 max-w-4xl">
    <h1>Plinko Casino: –û–±–∑–æ—Ä –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h1>
    <p>
      –ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä Plinko –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
      –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–º —Å–∞–π—Ç–µ, –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ–Ω—É—Å –∏ –Ω–∞–π–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã
      –≤ –Ω–∞—à–∏—Ö –ø–æ–¥—Ä–æ–±–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö.
    </p>

    <!-- –ö–Ω–æ–ø–∫–∞ PLAY -->
    <a
      href="#plinko-demo"
      class="play-button inline-block"
    >
      PLAY PLINKO
    </a>

    <p>
      Plinko, –ø–æ–ø—É–ª—è—Ä–Ω–∞—è –∏–≥—Ä–∞, –∑–Ω–∞–∫–æ–º–∞—è –º–Ω–æ–≥–∏–º –ø–æ —Ç–µ–ª–µ—à–æ—É ¬´The Price Is Right¬ª, –Ω–∞—à–ª–∞ —Å–≤–æ—ë
      –Ω–æ–≤–æ–µ –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –≤ –æ–Ω–ª–∞–π–Ω-–∫–∞–∑–∏–Ω–æ. –û–Ω–∞ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö
      Stake –∏ Roobet, –≥–¥–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö.
    </p>

    <h2>–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–µ</h2>
    <dl class="info-list grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-2">
      <dt>üåê –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ—Å—É—Ä—Å</dt>
      <dd><a href="https://www.plinko.org" target="_blank">www.plinko.org</a></dd>

      <dt>üéÆ –¢–∏–ø –∏–≥—Ä—ã</dt>
      <dd>–ê–∑–∞—Ä—Ç–Ω–∞—è, —Å–ª–æ—Ç</dd>

      <dt>üíª –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã</dt>
      <dd>Stake, Roobet –∏ –¥—Ä—É–≥–∏–µ –æ–Ω–ª–∞–π–Ω-–∫–∞–∑–∏–Ω–æ</dd>

      <dt>‚öôÔ∏è –ú–µ—Ö–∞–Ω–∏–∫–∞</dt>
      <dd>–°–ª—É—á–∞–π–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ —Ñ–∏—à–µ–∫ —á–µ—Ä–µ–∑ –¥–æ—Ä–æ–∂–∫—É —Å —à—Ç—ã—Ä—å–∫–∞–º–∏</dd>

      <dt>üéØ –¶–µ–ª—å</dt>
      <dd>–§–∏—à–∫–∞ –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç –æ—Ç —à—Ç—ã—Ä—å–∫–æ–≤ –∏ –ø–∞–¥–∞–µ—Ç –≤ –ø—Ä–∏–∑–æ–≤—É—é —è—á–µ–π–∫—É</dd>

      <dt>üíµ –°—Ç–∞–≤–∫–∏</dt>
      <dd>–§–∏–∞—Ç –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã</dd>

      <dt>üé≤ –£—Ä–æ–≤–Ω–∏ —Ä–∏—Å–∫–∞</dt>
      <dd>–ù–∏–∑–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –≤—ã—Å–æ–∫–∏–π</dd>

      <dt>üÜì –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º</dt>
      <dd>–î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º</dd>

      <dt>üîë –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</dt>
      <dd>–ü—Ä–æ—Å—Ç–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –º—É–ª—å—Ç–∏–≤–µ—Ä—Å–∏–∏, –±–æ–Ω—É—Å—ã</dd>
    </dl>

    <!-- –ú–µ–Ω—é-—è–∫–æ—Ä—è -->
    <nav class="toc space-y-1 my-6">
      <a href="#how-to-play">1. –ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å –≤ Plinko</a>
      <a href="#general-info">2. –û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–Ω–ª–∞–π–Ω-Plinko</a>
      <a href="#reviews">3. –û—Ç–∑—ã–≤—ã –∏–≥—Ä–æ–∫–æ–≤</a>
      <a href="#tips">4. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Å–æ–≤–µ—Ç—ã</a>
      <a href="#faq">5. FAQ</a>
    </nav>

    <h2 id="how-to-play">–ö–∞–∫ –Ω–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å –≤ Plinko</h2>
    <ol class="list-decimal list-inside">
      <li><strong>–í—ã–±–æ—Ä —Å—Ç–∞–≤–∫–∏.</strong> –ó–∞–¥–∞–π—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∏—à–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º ‚Äî –æ–Ω –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à.</li>
      <li><strong>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∏—Å–∫–∞.</strong> –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ç—Ä—ë—Ö —É—Ä–æ–≤–Ω–µ–π: –Ω–∏–∑–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π –∏–ª–∏ –≤—ã—Å–æ–∫–∏–π ‚Äî –æ—Ç —ç—Ç–æ–≥–æ –∑–∞–≤–∏—Å—è—Ç –º–Ω–æ–∂–∏—Ç–µ–ª–∏ –≤—ã–ø–ª–∞—Ç –∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å.</li>
      <li><strong>–°–±—Ä–æ—Å —Ñ–∏—à–∫–∏.</strong> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–°—Ç–∞—Ä—Ç¬ª –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ, –∫–∞–∫ —Ñ–∏—à–∫–∞ –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç –æ—Ç —Ä—è–¥–∞ —à—Ç—ã—Ä—å–∫–æ–≤.</li>
      <li><strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–∑–∞.</strong> –§–∏—à–∫–∞ –ø–æ–ø–∞–¥—ë—Ç –≤ —è—á–µ–π–∫—É, –∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–∏–≥—Ä—ã—à –ø–æ –µ—ë –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É.</li>
    </ol>

    <h2 id="general-info">–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–Ω–ª–∞–π–Ω-Plinko</h2>
    <ul class="list-disc list-inside">
      <li><strong>–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ —É–¥–∞—á–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.</strong> –§–∏—à–∫–∞ –¥–≤–∏–∂–µ—Ç—Å—è —Ö–∞–æ—Ç–∏—á–Ω–æ, –Ω–æ –≤—ã–±–æ—Ä —Ä–∏—Å–∫–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Å—Ö–æ–¥.</li>
      <li><strong>–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤.</strong> –†–∞–∑–Ω–æ–µ —á–∏—Å–ª–æ —à—Ç—ã—Ä—å–∫–æ–≤, –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –±–æ–Ω—É—Å–Ω—ã–µ –º–∏–Ω–∏-–∏–≥—Ä—ã.</li>
      <li><strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.</strong> –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ –±–∞–∑–µ –±–ª–æ–∫—á–µ–π–Ω–∞.</li>
      <li><strong>–ß–µ—Å—Ç–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è.</strong> –°–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª.</li>
      <li><strong>–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ.</strong> –í—ã–±–∏—Ä–∞–π—Ç–µ —Å–∞–π—Ç—ã —Å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º–∏ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏.</li>
    </ul>

    <h2 id="reviews">–û—Ç–∑—ã–≤—ã –∏–≥—Ä–æ–∫–æ–≤</h2>
    <ul class="list-disc list-inside">
      <li>–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∏—Å–∫–æ–º –∏ –Ω–∞–≥—Ä–∞–¥–æ–π.</li>
      <li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å –∫—Ä—É–ø–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à.</li>
      <li>–£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ –∏ –ø—Ä–æ—Ñ–∏.</li>
    </ul>

    <h2 id="tips">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Å–æ–≤–µ—Ç—ã</h2>
    <ul class="list-disc list-inside">
      <li><strong>–°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏.</strong> –§–∏–∫—Å–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∏—à–∫–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–µ–∑–∫–∏—Ö –ø–æ—Ç–µ—Ä—å.</li>
      <li><strong>–ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª.</strong> –£–¥–≤–∞–∏–≤–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –ø–æ—Å–ª–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞, –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π –ø–æ—Å–ª–µ –≤—ã–∏–≥—Ä—ã—à–∞.</li>
      <li><strong>–ê–Ω—Ç–∏-–ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª.</strong> –£–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –ø–æ—Å–ª–µ –ø–æ–±–µ–¥—ã –∏ —Å–Ω–∏–∂–∞–π—Ç–µ –ø–æ—Å–ª–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è.</li>
      <li><strong>–î–µ–º–æ-—Ä–µ–∂–∏–º.</strong> –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –±–µ–∑ —Ä–∏—Å–∫–∞.</li>
      <li><strong>–ë–∞–Ω–∫—Ä–æ–ª–ª-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç.</strong> –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã –≤—ã–∏–≥—Ä—ã—à–µ–π/–ø—Ä–æ–∏–≥—Ä—ã—à–µ–π.</li>
    </ul>

    <h2 id="faq">FAQ</h2>
    <ul class="list-none">
      <li><strong>1. –ß—Ç–æ —Ç–∞–∫–æ–µ Plinko Casino?</strong> –ê–∑–∞—Ä—Ç–Ω–∞—è –∏–≥—Ä–∞, –≥–¥–µ —Ñ–∏—à–∫–∞ –ø–∞–¥–∞–µ—Ç —á–µ—Ä–µ–∑ —à—Ç—ã—Ä—å–∫–∏ –∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç –≤—ã–∏–≥—Ä—ã—à.</li>
      <li><strong>2. –õ–µ–≥–∞–ª—å–Ω–∞ –ª–∏ –∏–≥—Ä–∞?</strong> –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏ –∏ –Ω–∞–ª–∏—á–∏—è –ª–∏—Ü–µ–Ω–∑–∏–∏.</li>
      <li><strong>3. –ú–æ–∂–Ω–æ –ª–∏ –≤—ã–∏–≥—Ä–∞—Ç—å?</strong> –î–∞, –ø—Ä–∏ —É–¥–∞—á–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –±–∞–Ω–∫—Ä–æ–ª–ª–æ–º.</li>
      <li><strong>4. –°—Ç–æ–∏—Ç –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É?</strong> –ë—ã—Å—Ç—Ä–æ –∏ –∞–Ω–æ–Ω–∏–º–Ω–æ.</li>
      <li><strong>5. –ï—Å—Ç—å –ª–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏?</strong> –ë–∞–Ω–∫—Ä–æ–ª–ª-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç –∏ –≤—ã–±–æ—Ä —Ä–∏—Å–∫–∞ –ø–æ–º–æ–≥–∞—é—Ç –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä–∏.</li>
    </ul>
  </section>

  <!-- –í–∏—Ç—Ä–∏–Ω–∞ –∫–∞–∑–∏–Ω–æ -->
  <div class="mx-auto px-5 mt-8 min-w-[300px] max-w-xl md:mt-10 lg:max-w-7xl">
    <CasinoShowcase />
  </div>

  <!-- –î–µ–º–æ-–∏–≥—Ä–∞ (—è–∫–æ—Ä—å –¥–ª—è –∫–Ω–æ–ø–∫–∏ PLAY) -->
  <div id="plinko-demo" class="flex-1 px-5">
    <div class="mx-auto mt-5 min-w-[300px] max-w-xl drop-shadow-xl md:mt-10 lg:max-w-7xl">
      <div class="flex flex-col-reverse overflow-hidden rounded-lg lg:w-full lg:flex-row">
        <Sidebar />
        <div class="flex-1"><Plinko /></div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
  <SettingsWindow />
  <LiveStatsWindow />

  <!-- –§—É—Ç–µ—Ä -->
  <footer class="px-5 pt-16 pb-4">
    <div class="mx-auto max-w-[40rem]">
      <div aria-hidden="true" class="h-[1px] bg-gray-700"></div>
      <div class="flex items-center justify-end p-2">
        <a
          href="https://github.com/goodoldman887/plinko_game"
          target="_blank"
          rel="noreferrer"
          class="flex items-center gap-1 p-1 text-sm text-gray-400 hover:text-cyan-400 transition"
        >
          <GitHubLogo class="size-4" weight="bold" />
          <span>Source Code</span>
        </a>
      </div>
    </div>
  </footer>
</div>

<style>
  /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
  :global(body) {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: #111827;
    color: #e5e7eb;
  }

  /* –ö–Ω–æ–ø–∫–∞ PLAY */
  :global(.play-button) {
    display: inline-block;
    background: #0ea5e9;
    color: #ffffff;
    font-weight: 600;
    padding: 0.6rem 1.2rem;
    border-radius: 0.375rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    transition: background 0.2s, transform 0.2s;
    text-decoration: none;
  }
  :global(.play-button:hover) {
    background: #0284c7;
    transform: translateY(-2px);
  }

  /* –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ */
  :global(section.prose) {
    background: #1f2937;
    padding: 2rem;
    border-radius: 0.5rem;
    box-shadow: 0 6px 10px rgba(0,0,0,0.4);
  }

  /* –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è dl/dt/dd */
  :global(.info-list dt) {
    font-weight: 600;
    color: #f3f4f6;
  }
  :global(.info-list dd) {
    margin-left: 0.5rem;
    color: #9ca3af;
  }

  /* –ú–µ–Ω—é-—è–∫–æ—Ä—è */
  :global(.toc a) {
    color: #60a5fa;
    text-decoration: none;
    padding: 0.25rem;
    transition: color 0.2s;
  }
  :global(.toc a:hover) {
    color: #3b82f6;
    text-decoration: underline;
  }

  /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–∫—Ü–∏–∏ */
  :global(section.prose h2) {
    margin-top: 1.5rem;
    color: #ffffff;
    border-bottom: 2px solid #374151;
    padding-bottom: 0.25rem;
  }

  /* –°–ø–∏—Å–∫–∏ */
  :global(section.prose ul, section.prose ol) {
    margin-left: 1rem;
  }
</style>
